(this.webpackJsonpweather_report=this.webpackJsonpweather_report||[]).push([[0],{28:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},42:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(12),c=a.n(o),i=a(13),l=a(6),u=a(3),s={pincode:null,currentLocation:{status:null,message:"",Latitude:null,Longitude:null},ip:null,WeatherReport:{status:0,location:{city:"",country:""},icon:null,todays_date:"",temperature:{celsius:null,fahrenheit:null},humidity:"",wind:""},NextDayWeather:{status:0,weather:[{next_date:null,temperature:{celsius:null},icon:null}]}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if("ChangePinCode"===t.type)return Object(u.a)(Object(u.a)({},e),{},{pincode:t.newPinCode.replace("-",""),ip:null,currentLocation:{status:null,message:"",Latitude:null,Longitude:null}});if("ChangeCurrentLocation"===t.type)return Object(u.a)(Object(u.a)({},e),{},{pincode:null,ip:null,currentLocation:{status:t.newLocation.status,message:t.newLocation.message,Latitude:t.newLocation.latitude,Longitude:t.newLocation.longitude}});if("ChangeIp"===t.type)return Object(u.a)(Object(u.a)({},e),{},{ip:t.newIP,pincode:null,currentLocation:{status:null,message:"",Latitude:null,Longitude:null}});if("ChangeWeatherReport"===t.type)return Object(u.a)(Object(u.a)({},e),{},{pincode:null,currentLocation:{status:null},ip:null,WeatherReport:{status:1,location:{city:t.WeatherReport.area,country:t.WeatherReport.cuntry},todays_date:t.WeatherReport.date_time,temperature:{celsius:t.WeatherReport.temp_c,fahrenheit:t.WeatherReport.temp_f},humidity:t.WeatherReport.humidity,wind:t.WeatherReport.wind}});if("NextDayReport"===t.type){var a=t.WeatherData.reports;a.length>2&&a.shift();var n=new Array;if(a.map((function(e){n.push({next_date:e.date,temperature:{celsius:e.day.avgtemp_c}})})),a[1]){var r=new Date;r.setDate(new Date(a[1].date).getDate()+1);var o=r.getUTCMonth()+1,c=r.getUTCDate(),i=r.getUTCFullYear();n.push({next_date:i+"-"+o+"-"+c,temperature:{celsius:a[1].day.avgtemp_c}}),(r=new Date).setDate(new Date(a[1].date).getDate()+2),o=r.getUTCMonth()+1,c=r.getUTCDate(),i=r.getUTCFullYear(),n.push({next_date:i+"-"+o+"-"+c,temperature:{celsius:a[1].day.avgtemp_c}})}return Object(u.a)(Object(u.a)({},e),{},{NextDayWeather:{status:1,weather:n}})}return e},h=(a(39),a(40),a(10)),d=a.n(h),m=a(17),g=a(4),y=a(5),f=a(8),w=a(7),b=(a(42),a(11)),v=a.n(b),E=function(){return r.a.createElement("h1",null,"Weather Report")},L=function(e){return r.a.createElement("h4",null,e.area," ",e.country)},_=(a(60),a(9)),C=function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={pincode:"",keycode:""},e.ChangePincode=function(t){8!==e.state.keycode?(t.target.value.length<4&&e.setState({pincode:t.target.value}),3===t.target.value.length&&e.setState({pincode:t.target.value+"-"}),t.target.value.length<8&&t.target.value.length>3&&e.setState({pincode:t.target.value})):e.setState({pincode:e.state.pincode.slice(0,-1)})},e.GetKeyCode=function(t){e.setState({keycode:t.keyCode})},e.ChangeGlobalPinCode=function(){7===e.state.pincode.length&&e.props.onChangeGlobalPincode(e.state.pincode)},e.GetLocation=function(t){navigator.geolocation.getCurrentPosition((function(t){e.props.onClickGetLocation({status:1,message:"",latitude:t.coords.latitude,longitude:t.coords.longitude})}),(function(t){e.props.onClickGetLocation({status:0,message:"Your Browser Location Not Allow",latitude:null,longitude:null})}))},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,""!==this.props.GeoLocationMessage?r.a.createElement("div",null,r.a.createElement("small",null,this.props.GeoLocationMessage)):null,r.a.createElement("div",{className:"change_location"},r.a.createElement("button",{onClick:this.GetLocation},r.a.createElement(_.a,{size:35,color:"#000"})," Get Current Location")),r.a.createElement("div",{className:"change_pincode"},r.a.createElement("span",{className:"pincode_textbox"},r.a.createElement("input",{type:"text",placeholder:"Enter your 6 digit pincode",readOnly:!0,value:this.state.pincode,onKeyDown:this.GetKeyCode,onChange:this.ChangePincode,onKeyUp:this.ChangeGlobalPinCode}),r.a.createElement("span",null,"Coming Soon"))))}}]),a}(n.Component),W=Object(l.b)((function(e){return{globalPincode:e.pincode,ip:e.ip,GeoLocationMessage:e.currentLocation.message}}),(function(e){return{onChangeGlobalPincode:function(t){return e({type:"ChangePinCode",newPinCode:t})},onClickGetLocation:function(t){return e({type:"ChangeCurrentLocation",newLocation:t})}}}))(C),S=function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.today_date,t=new Date(e),a=t.toLocaleString("en-us",{weekday:"long"}),n=t.getDate();return r.a.createElement("h6",null,a,", ",n,function(e){switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd";case 31:return"st";default:return"th"}}(n)," ",function(e){switch(e){case 1:return"January";case 2:return"Febrary";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"Error"}}(t.getMonth()+1))}}]),a}(n.Component),D=function(e){var t="";return"WiDaySunny"===e.data&&(t=r.a.createElement(_.c,{size:35,color:"#fff"})),"WiThermometer"===e.data&&(t=r.a.createElement(_.e,{size:35,color:"#fff"})),"WiStrongWind"===e.data&&(t=r.a.createElement(_.d,{size:35,color:"#fff"})),t},R=function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"current_day_report"},r.a.createElement(L,{area:this.props.area,country:this.props.country}),r.a.createElement(S,{today_date:this.props.date_time}),r.a.createElement("div",{className:"temparature"},r.a.createElement(D,{data:"WiDaySunny"}),r.a.createElement("span",null,this.props.celsius," ",r.a.createElement("sup",null,"o"),"C | "),r.a.createElement("span",null,this.props.fahrenheit," ",r.a.createElement("sup",null,"o"),"F ")),r.a.createElement("div",{className:"humidity"},r.a.createElement(D,{data:"WiThermometer"}),r.a.createElement("span",null,this.props.humidity,"%")),r.a.createElement("div",{className:"wind"},r.a.createElement(D,{data:"WiStrongWind"}),r.a.createElement("span",null,this.props.wind," km/h")),r.a.createElement(W,null))}}]),a}(n.Component),j=Object(l.b)((function(e){return{celsius:e.WeatherReport.temperature.celsius,fahrenheit:e.WeatherReport.temperature.fahrenheit,area:e.WeatherReport.location.city,country:e.WeatherReport.location.country,date_time:e.WeatherReport.todays_date,humidity:e.WeatherReport.humidity,wind:e.WeatherReport.wind}}),null)(R),x=function(e){var t=null;if(null!==e.weather_data&&"3"===e.day?t=e.weather_data.temperature.celsius+3:null!==e.weather_data&&"4"===e.day?t=e.weather_data.temperature.celsius+2:null!==e.weather_data&&(t=e.weather_data.temperature.celsius),null!==e.weather_data)var a=new Date(e.weather_data.next_date).toLocaleString("en-us",{weekday:"short"});return r.a.createElement("div",{className:"col-md-3 col-6 next_day_reports_color"},r.a.createElement("div",{className:"next_day"},r.a.createElement("div",{className:"icon"},r.a.createElement(_.b,{size:45,color:"#fff"})),r.a.createElement("div",{className:"data"},r.a.createElement("p",null,r.a.createElement("span",null,a)),r.a.createElement("p",null,r.a.createElement("span",null,t," ",r.a.createElement("sup",null,"o"),"C")))))},N=function(e){Object(f.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ip:null,ShowLoader:!0},e.ChangeGlobalIP=function(){e.props.onChangeGlobalIp(e.state.ip)},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geolocation-db.com/json/").then((function(e){return e.json()})).then((function(e){t.setState({ip:e.IPv4})}));case 2:this.ChangeGlobalIP();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.props.IPSetup){e.next=7;break}return this.setState({ShowLoader:!0}),this.props.onChangeGlobalWeatherReport({temp_c:null}),e.next=5,v.a.get("https://api.weatherapi.com/v1/current.json?key=0062baeabb03462694563754221103&q="+this.props.IPSetup,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){n.setState({ShowLoader:!1}),n.props.onChangeGlobalWeatherReport({temp_c:e.data.current.feelslike_c,temp_f:e.data.current.feelslike_f,date_time:e.data.location.localtime,cuntry:e.data.location.country,area:e.data.location.name,humidity:e.data.current.humidity,wind:e.data.current.wind_kph})})).catch((function(e){n.setState({ShowLoader:!1}),console.log(e)}));case 5:return e.next=7,v.a.get("https://api.weatherapi.com/v1/forecast.json?key=0062baeabb03462694563754221103&q="+this.props.IPSetup+"&days=5").then((function(e){n.props.onChangeGlobalNextDayWeatherReport({reports:e.data.forecast.forecastday})})).catch((function(e){console.log(e)}));case 7:if(null!==this.props.PincodeSetup&&(this.setState({ShowLoader:!0}),this.props.onChangeGlobalWeatherReport({temp_c:null}),console.log(this.props.PincodeSetup),this.setState({ShowLoader:!1})),null===this.props.GeoLocationSetup.Status||null===this.props.GeoLocationSetup.Latitude){e.next=17;break}return this.setState({ShowLoader:!0}),this.props.onChangeGlobalWeatherReport({temp_c:null}),t=this.props.GeoLocationSetup.Latitude,a=this.props.GeoLocationSetup.Longitude,e.next=15,v.a.get("https://api.weatherapi.com/v1/current.json?key=0062baeabb03462694563754221103&q="+this.props.GeoLocationSetup.Latitude+","+this.props.GeoLocationSetup.Longitude).then((function(e){n.setState({ShowLoader:!1}),n.props.onChangeGlobalWeatherReport({temp_c:e.data.current.feelslike_c,temp_f:e.data.current.feelslike_f,date_time:e.data.location.localtime,cuntry:e.data.location.country,area:e.data.location.name,humidity:e.data.current.humidity,wind:e.data.current.wind_kph})})).catch((function(e){n.setState({ShowLoader:!1}),console.log(e)}));case 15:return e.next=17,v.a.get("https://api.weatherapi.com/v1/forecast.json?key=0062baeabb03462694563754221103&q="+t+","+a+"&days=4").then((function(e){n.props.onChangeGlobalNextDayWeatherReport({reports:e.data.forecast.forecastday})})).catch((function(e){console.log(e)}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement(E,null)),this.state.ShowLoader?r.a.createElement("div",{className:"show_reports"},r.a.createElement("div",{className:"loading_loader"},"Loading...")):r.a.createElement("div",{className:"show_reports"},r.a.createElement(j,null),r.a.createElement("div",{className:"next_day_reports"},r.a.createElement("div",{className:"row"},r.a.createElement(x,{day:"1",weather_data:this.props.NextDayWeatherReport.weather.length>=2?this.props.NextDayWeatherReport.weather[0]:null}),r.a.createElement(x,{day:"2",weather_data:this.props.NextDayWeatherReport.weather.length>=2?this.props.NextDayWeatherReport.weather[1]:null}),r.a.createElement(x,{day:"3",weather_data:this.props.NextDayWeatherReport.weather.length>=2?this.props.NextDayWeatherReport.weather[2]:null}),r.a.createElement(x,{day:"4",weather_data:this.props.NextDayWeatherReport.weather.length>=2?this.props.NextDayWeatherReport.weather[3]:null})))),r.a.createElement("footer",null,r.a.createElement("div",{className:"footer"},r.a.createElement("span",null,"\xa9 2020 Weather Report . All rights reserved | Design & Developed by ",r.a.createElement("a",{href:"https://dey-subhajit.github.io/portfolio"}," Subhajit Dey"))))))}}]),a}(n.Component),k=Object(l.b)((function(e){return{IPSetup:e.ip,PincodeSetup:e.pincode,GeoLocationSetup:{Status:e.currentLocation.status,Message:e.currentLocation.status,Latitude:e.currentLocation.Latitude,Longitude:e.currentLocation.Longitude},NextDayWeatherReport:e.NextDayWeather}}),(function(e){return{onChangeGlobalIp:function(t){return e({type:"ChangeIp",newIP:t})},onChangeGlobalWeatherReport:function(t){return e({type:"ChangeWeatherReport",WeatherReport:t})},onChangeGlobalNextDayWeatherReport:function(t){return e({type:"NextDayReport",WeatherData:t})}}}))(N);var G=function(){return r.a.createElement(k,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=Object(i.b)(p);O.subscribe((function(){})),c.a.render(r.a.createElement(l.a,{store:O},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.0e96ed87.chunk.js.map